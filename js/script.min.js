var body=document.querySelector("body"),modalButtonOpen=body.querySelector(".contacts__button"),modal=body.querySelector(".modal"),modalButtonClose=modal.querySelector(".modal__button"),modalForm=modal.querySelector(".modal-form"),modalFieldAll=modalForm.querySelectorAll(".modal-form__field"),noJs=body.querySelector(".no-js"),map=body.querySelector(".contacts__map-link"),sliderButton=body.querySelector(".slider__buttons"),storage=localStorage;noJs.classList.remove("no-js"),map.classList.add("contacts__map-link--hide"),sliderButton&&sliderButton.addEventListener("click",function(l){var e=l.target;if(e.classList.contains("slider__button-control--current")||!e.classList.contains("slider__button-control"))return!1;var o=body.querySelector(".slider__button-control--current"),t=body.querySelector(".slider__item--show"),d=e.getAttribute("data-value"),a=body.querySelector(".slider__item--bg-"+d);e.classList.add("slider__button-control--current"),o.classList.remove("slider__button-control--current"),t.classList.remove("slider__item--show"),a.classList.add("slider__item--show")}),modalButtonOpen.addEventListener("click",function(l){l.preventDefault();var e=null;body.classList.add("modal-open"),modal.classList.add("modal--open");for(var o=0;o<modalFieldAll.length;o++)storage&&(modalFieldAll[o].value=storage.getItem(modalFieldAll[o].getAttribute("name"))),null!==e||modalFieldAll[o].value||(e=modalFieldAll[o]);e.focus()}),modalButtonClose.addEventListener("click",function(l){l.preventDefault(),body.classList.remove("modal-open"),modal.classList.remove("modal--open");for(var e=0;e<modalFieldAll.length-1;e++)modalFieldAll[e].classList.remove("modal-form__field--invalid")}),modalForm.addEventListener("submit",function(l){for(var e=0;e<modalFieldAll.length-1;e++){if(!modalFieldAll[e].value)return l.preventDefault(),modalFieldAll[e].classList.remove("modal-form__field--invalid"),modal.offsetWidth=modal.offsetWidth,modalFieldAll[e].classList.add("modal-form__field--invalid"),modalFieldAll[e].focus(),!1;storage&&localStorage.setItem(modalFieldAll[e].getAttribute("name"),modalFieldAll[e].value)}}),window.addEventListener("keydown",function(l){if(27===l.keyCode&&(l.preventDefault(),modal.classList.contains("modal--open"))){body.classList.remove("modal-open"),modal.classList.remove("modal--open");for(var e=0;e<modalFieldAll.length-1;e++)modalFieldAll[e].classList.remove("modal-form__field--invalid")}});
